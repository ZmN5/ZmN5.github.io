<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>python on ä½•æ—¶</title>
    <link>https://ZmN5.github.io/categories/python/</link>
    <description>Recent content in python on ä½•æ—¶</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Sun, 23 Aug 2020 22:19:58 +0800</lastBuildDate>
    
	<atom:link href="https://ZmN5.github.io/categories/python/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Python Gil</title>
      <link>https://ZmN5.github.io/post/python-gil/</link>
      <pubDate>Sun, 23 Aug 2020 22:19:58 +0800</pubDate>
      
      <guid>https://ZmN5.github.io/post/python-gil/</guid>
      <description>&lt;h1 id=&#34;ä¸€-ä»€ä¹ˆæ˜¯gil&#34;&gt;ä¸€ã€ ä»€ä¹ˆæ˜¯GILï¼Ÿ&lt;/h1&gt;
&lt;p&gt;GILçš„å…¨ç§°ä¸º&lt;code&gt;Global Interpreter Lock&lt;/code&gt;ï¼Œæ˜¯CPythonä¸­çš„ä¸€ç§é”å®ç°ï¼Œç›®çš„æ˜¯ä¸ºäº†åœ¨åŒä¸€æ—¶é—´ï¼Œåªå…è®¸ä¸€ä¸ªçº¿ç¨‹æ§åˆ¶è§£é‡Šå™¨ã€‚&lt;/p&gt;
&lt;h1 id=&#34;äºŒä¸ºä»€ä¹ˆéœ€è¦gil&#34;&gt;äºŒã€ä¸ºä»€ä¹ˆéœ€è¦GILï¼Ÿ&lt;/h1&gt;
&lt;p&gt;Pythonçš„å†…å­˜ç®¡ç†ç”¨çš„æ˜¯å¼•ç”¨è®¡æ•°ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªå¯¹è±¡éƒ½ä¼šæœ‰ä¸€ä¸ªè®¡æ•°å™¨æ¥è·Ÿè¸ªè¢«å¼•ç”¨çš„æ•°é‡ï¼Œå¦‚æœè®¡æ•°å™¨çš„å€¼ä¸º0ï¼Œåˆ™æ­¤å¯¹è±¡å ç”¨çš„å†…å­˜è¢«é‡Šæ”¾ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¿™ä¸ªå¼•ç”¨è®¡æ•°çš„å€¼éœ€è¦é¿å…ç«æ€æ¡ä»¶(race condition)ï¼Œä¸èƒ½æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹å¯¹è±¡å¼•ç”¨è®¡æ•°å™¨çš„å€¼ï¼Œå¦åˆ™ä¼šé€ æˆå†…å­˜æ³„æ¼æˆ–è€…å„ç§å¥‡æ€ªçš„bugã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœç»™æ¯ä¸ªå¯¹è±¡éƒ½åŠ é”çš„è¯ï¼Œå°±å¾ˆå¯èƒ½é€ æˆæ­»é”ï¼ˆåªæœ‰å¤šä¸ªé”çš„æƒ…å†µä¸‹æ‰å¯èƒ½é€ æˆæ­»é”ï¼‰ï¼ŒåŒæ—¶å½±å“å•çº¿ç¨‹çš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ä¸ºäº†è§£å†³çº¿ç¨‹å®‰å…¨çš„å†…å­˜ç®¡ç†è¿™ä¸ªé—®é¢˜ï¼ŒGuidoçš„é€‰æ‹©æ˜¯ï¼Œå¼•å…¥ä¸€ä¸ªç²—ç²’åº¦çš„å…¨å±€é”ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä»–æ²¡æœ‰GILçš„è¯­è¨€(æ¯”å¦‚Java)ï¼Œé€šè¿‡ä¸åŒçš„GCæ–¹å¼ï¼Œæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯å¾€å¾€åŒæ—¶ä¼šå¼•å…¥å…¶ä»–æŠ€æœ¯æ¥æå‡å•è¿›ç¨‹çš„æ€§èƒ½ï¼Œæ¯”å¦‚JITã€‚&lt;/p&gt;
&lt;h1 id=&#34;ä¸‰gilçš„å½±å“&#34;&gt;ä¸‰ã€GILçš„å½±å“&lt;/h1&gt;
&lt;p&gt;GILçš„å½±å“ä¸»è¦åœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹ï¼Œè¿™é‡Œé¦–å…ˆè¦æ˜ç¡®å‡ ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;pythonçš„çº¿ç¨‹éƒ½æ˜¯åŸç”Ÿæ“ä½œç³»ç»Ÿçº¿ç¨‹&lt;/li&gt;
&lt;li&gt;æ“ä½œç³»ç»Ÿè´Ÿè´£çº¿ç¨‹çš„è°ƒåº¦&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™é‡Œä»IO-boundå’ŒCPU-boundä¸¤ç§ä¸åŒçš„çº¿ç¨‹åˆ†å¼€è¯´ã€‚&lt;/p&gt;
&lt;h2 id=&#34;31-åä½œçš„io-boundçº¿ç¨‹&#34;&gt;3.1 åä½œçš„IO-boundçº¿ç¨‹&lt;/h2&gt;
&lt;p&gt;åœ¨ä½¿ç”¨Pythonæ ‡æ³¨åº“çš„æƒ…å†µä¸‹è¿›è¡ŒIOæ“ä½œæ—¶ï¼Œæ¯”å¦‚ç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶è¯»å†™ã€æ•°æ®åº“è¯»å†™ç­‰ï¼Œè§£é‡Šå™¨ä¼šåœ¨IOæ“ä½œä¹‹å‰é‡Šæ”¾GILã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-C&#34; data-lang=&#34;C&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/* s.connect((host, port)) method */&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PyObject&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;sock_connect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PySocketSockObject&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PyObject&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addro&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;sock_addr_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;addrbuf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;addrlen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;res&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/* convert (host, port) tuple to C address */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;getsockaddrarg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;addro&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SAS2SA&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addrbuf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addrlen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;Py_BEGIN_ALLOW_THREADS&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// é‡Šæ”¾GIL
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;cm&#34;&gt;/* Others thread may run now */&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/* sleep(timeout) */&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/* write(fd, buffer, size) */&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/* recv(sock, buffer, size, flags) */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Py_END_ALLOW_THREADS&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// è·å–GIL
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/* error handling and so on .... */&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ€»ç»“æ¥è¯´ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨è¿›è¡ŒIOæ—¶å€™é‡Šæ”¾GIL&lt;/li&gt;
&lt;li&gt;å…¶ä»–å¤„äºå¯æ‰§è¡ŒçŠ¶æ€çš„çº¿ç¨‹è·å¾—æ‰§è¡Œæœºä¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æœ‰ç‚¹åä½œçš„æ„å‘³ï¼Œæ‰€ä»¥åœ¨IOå¯†é›†å‹æ“ä½œä¸­ä½¿ç”¨å¤šçº¿ç¨‹ï¼Œæ€§èƒ½å¹¶ä¸ä¼šå¤ªä½ã€‚&lt;/p&gt;
&lt;h2 id=&#34;32-ç¨‹åºblockæ— æ³•å¤„ç†ç³»ç»Ÿsignal&#34;&gt;3.2 ç¨‹åºblockï¼Œæ— æ³•å¤„ç†ç³»ç»ŸSignal&lt;/h2&gt;
&lt;p&gt;åœ¨Python2é‡Œé¢ï¼Œå¦‚æœä¸€ä¸ªçº¿ç¨‹ä»ä¸è¿›è¡Œä»»åŠ¡IOï¼Œè§£é‡Šå™¨æ¯æ‰§è¡Œ&lt;code&gt;100ticks&lt;/code&gt;(1tickå¯¹åº”è§£é‡Šå™¨ä¸­çš„ä¸€æ¡æŒ‡ä»¤)ä¼šè¿›è¡Œä¸€æ¬¡&lt;code&gt;check&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ¯æ¬¡æ‰§è¡Œ&lt;code&gt;check&lt;/code&gt;æ—¶å€™ï¼Œä¼šè¿›è¡Œï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨ä¸»çº¿ç¨‹ä¸­å¤„ç†å„ç§&lt;code&gt;signal&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;release &amp;amp; reacquire GIL&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;checkçš„å‘¨æœŸä¸æ˜¯ä»¥æ—¶é—´ä¸ºå•ä½çš„&lt;/li&gt;
&lt;li&gt;åœ¨ä¸€ä¸ªå‘¨æœŸå†…å¯ä»¥é˜»å¡ä»»ä½•äº‹æƒ…ï¼Œæ‰§è¡Œä¸åŒçš„æŒ‡ä»¤è€—æ—¶ç›¸å·®å¾ˆå¤§&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# test.py&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;block_everything&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;xrange&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1000000000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;block_everything&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ‰§è¡Œè¿™ä¸ªè„šæœ¬ï¼Œç„¶å&lt;code&gt;ctrl+c&lt;/code&gt;ï¼Œä¼šå‘ç°å¹¶ä¸èƒ½ä½¿ç¨‹åºç»ˆæ­¢ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;dis&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dis&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;block_everything&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
      &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LOAD_GLOBAL&lt;/span&gt;              &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;xrange&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
      &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LOAD_CONST&lt;/span&gt;               &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1000000000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
      &lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CALL_FUNCTION&lt;/span&gt;            &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
      &lt;span class=&#34;mi&#34;&gt;9&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;STORE_FAST&lt;/span&gt;               &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

     &lt;span class=&#34;mi&#34;&gt;12&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LOAD_CONST&lt;/span&gt;               &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
     &lt;span class=&#34;mi&#34;&gt;15&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LOAD_FAST&lt;/span&gt;                &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
     &lt;span class=&#34;mi&#34;&gt;18&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;COMPARE_OP&lt;/span&gt;               &lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
     &lt;span class=&#34;mi&#34;&gt;21&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;POP_TOP&lt;/span&gt;
     &lt;span class=&#34;mi&#34;&gt;22&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LOAD_CONST&lt;/span&gt;               &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
     &lt;span class=&#34;mi&#34;&gt;25&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RETURN_VALUE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å…¶ä¸­çš„åŸå› æ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…¶ä¸­ä¸€æ¡æŒ‡ä»¤ï¼ˆ&lt;code&gt;COMPARE_OP&lt;/code&gt;ï¼‰è€—æ—¶å¤ªä¹…ï¼Œè€Œè§£é‡Šå™¨åœ¨æ‰§è¡Œ100ticksä¹‹åæ‰ä¼šå¤„ç†signals&lt;/li&gt;
&lt;li&gt;ä¸»è¿›ç¨‹è¢«blockï¼Œæ— æ³•å¤„ç†signal&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;33-python2çš„ä¼˜å…ˆçº§å€’ç½®priority-inversion&#34;&gt;3.3 Python2çš„ä¼˜å…ˆçº§å€’ç½®ï¼ˆPriority Inversionï¼‰&lt;/h2&gt;
&lt;p&gt;å…ˆè°ˆè°ˆGILçš„å®ç°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;GILä¸ä»…ä»…æ˜¯mutex&lt;/li&gt;
&lt;li&gt;å…·ä½“å®ç°ï¼ˆUnixï¼‰è¦ä¹ˆæ˜¯åŒ¿åä¿¡å·é‡ï¼Œè¦ä¹ˆæ˜¯Pthreadsæ¡ä»¶å˜é‡&lt;/li&gt;
&lt;li&gt;é”æœºåˆ¶åŸºäºä¿¡å·signal
&lt;ul&gt;
&lt;li&gt;è·å–GILæ—¶å€™ï¼Œæ£€æŸ¥é”ï¼Œå¦‚æœé”éç©ºé—²ï¼Œä¼‘çœ ç„¶åç­‰å¾…é”&lt;/li&gt;
&lt;li&gt;é‡Šæ”¾GILæ—¶å€™ï¼Œé‡Šæ”¾é”å¹¶ä¸”å‘é€signalç»™å…¶ä»–çº¿ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://ZmN5.github.io/post/static/python-gil/gil-locking.jpg&#34; alt=&#34;GIL&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç”±äºçº¿ç¨‹çš„è°ƒåº¦éƒ½æ˜¯æ“ä½œç³»ç»Ÿè´Ÿè´£çš„ï¼Œé‚£ä¹ˆå¤šä¸ªçº¿ç¨‹å°±ä¼šè¢«è°ƒåº¦åˆ°å¤šæ ¸ä¸ŠåŒæ—¶æ‰§è¡Œï¼Œå°±ä¼šæœ‰CPU Battleçš„ç°è±¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ZmN5.github.io/post/static/python-gil/CPU-battle.jpg&#34; alt=&#34;CPU_battle&#34;&gt;&lt;/p&gt;
&lt;p&gt;å°±ä¸Šå›¾è¯¦ç»†æ¥è¯´ï¼Œçº¿ç¨‹t2è¢«è°ƒåº¦åˆ°CPUæ ¸ä¸Šå¼€å§‹æ‰§è¡Œæ—¶å€™ï¼Œæ‹¿ä¸åˆ°GILè¢«blockï¼Œt1é‡Šæ”¾GILæ—¶å€™ï¼Œé€šçŸ¥t2æ¥æŠ¢ï¼Œä½†æ˜¯è¿™æ—¶å€™t1ä¼šè¢«ç•™åœ¨åŸå…ˆçš„CPUæ ¸ä¸Šç»§ç»­æ‰§è¡Œï¼ŒGILåˆè¢«t1æŠ¢èµ°äº†ï¼Œt2ç»§ç»­blockã€‚&lt;/p&gt;
&lt;p&gt;t2: â€œæ€ä¹ˆæœ‰ç§è¢«è°ƒæˆçš„æ„Ÿè§‰ã€‚ã€‚ã€‚â€&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ZmN5.github.io/post/static/python-gil/CPU-battle-summary.jpg&#34; alt=&#34;CPU_battle_summary&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»ä»£ç å¤§æ¦‚æ˜¯è¿™æ ·ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;interpreter_lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;cm&#34;&gt;/* Give another thread a chance */&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PyThreadState_Swap&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tstate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;n&#34;&gt;Py_FatalError&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;Ceval, tstate mix-up.&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;PyThread_release_lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;interpreter_lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/* Other thread may run now.*/&lt;/span&gt; 
    &lt;span class=&#34;cm&#34;&gt;/* there is no code here. */&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;PyThread_acquire_lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;interpreter_lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä»ä»£ç å¯ä»¥çœ‹å‡ºï¼Œè¿™é‡Œæœ€ä¸»è¦çš„é—®é¢˜æ˜¯ï¼Œä»é‡Šæ”¾GILåˆ°é‡æ–°è·å–GILï¼Œä¸­é—´æ²¡æœ‰å…¶ä»–ä»£ç ï¼Œè¿™ä¸ªè¿‡ç¨‹åªéœ€è¦å‡ çº³ç§’ï¼Œå…¶ä»–çº¿ç¨‹å¾ˆéš¾æŠ¢åˆ°GILã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç‚¹åœ¨å‡ ä¸ªéƒ½æ˜¯CPU-boundçš„çº¿ç¨‹ä¸Šçš„å½±å“å°±æ˜¯ï¼Œå¤šçº¿ç¨‹æ¯”å•çº¿ç¨‹æ‰§è¡Œæ›´æ…¢ã€‚
åœ¨åŒæ—¶æœ‰CPU-boundå’ŒIO-boundçš„çº¿ç¨‹ä¸Šå½±å“å°±æ˜¯ï¼Œä¼˜å…ˆçº§å€’ç½®ï¼ˆPriority Inversionï¼‰ã€‚æœ¬æ¥åº”è¯¥é«˜ä¼˜å…ˆçº§çš„IO-boundçº¿ç¨‹ï¼Œä¼šå¾ˆéš¾æ‹¿åˆ°GILå»æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;æœ€ä¸»è¦çš„é—®é¢˜æ˜¯ï¼Œè¿™é‡Œæºæ‚äº†ä¸¤ä¸ªç›¸å†²çªçš„ç›®æ ‡ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯¹Pythonè§£é‡Šå™¨æ¥è¯´ï¼Œåªæƒ³åœ¨å•çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œä½†æ˜¯åŒæ—¶åˆä¸åšä»»ä½•å’Œçº¿ç¨‹è°ƒåº¦ç›¸å…³çš„äº‹æƒ…ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹æ“ä½œç³»ç»Ÿæ¥è¯´ï¼Œçœ‹åˆ°æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œé‚£ä¹ˆå°±è°ƒåº¦åˆ°å¤šä¸ªæ ¸ä¸ŠåŒæ—¶å·¥ä½œå§ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;34-python3çš„gil&#34;&gt;3.4 Python3çš„GIL&lt;/h2&gt;
&lt;p&gt;ä»python3.2å¼€å§‹ï¼Œå¼•å…¥äº†æ–°çš„GILã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ–°çš„GILä»æ—§åŸºäº&lt;code&gt;condition variable&lt;/code&gt;å’Œ&lt;code&gt;signaling&lt;/code&gt;ï¼Œä½†æ˜¯å’Œæ—§çš„å®Œå…¨ä¸åŒï¼Œsignalä¼šæ˜¾è‘—å‡å°‘&lt;/li&gt;
&lt;li&gt;æ–°çš„çº¿ç¨‹åˆ‡æ¢æ˜¯åŸºäºæ—¶é—´çš„ï¼ˆ&lt;code&gt;time-based&lt;/code&gt;ï¼‰, ä¸åƒè¿‡å»ä¸€æ ·ï¼Œæ˜¯åŸºäºticksçš„&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ–°GILçš„è®¾è®¡åŸºäºå‡ æ¡åŸåˆ™ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æ˜¯å¦è¦è¿›è¡Œçº¿ç¨‹åˆ‡æ¢å–å†³äºä¸€ä¸ªå…¨å±€å˜é‡ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;k&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;volatile&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;gil_drop_request&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;çº¿ç¨‹å°†ä¸€ç›´è¿è¡Œï¼Œç›´åˆ°å…¨å±€å˜é‡çš„å€¼å˜ä¸º1&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…¨å±€å˜é‡å˜ä¸º1æ—¶å€™ï¼Œçº¿ç¨‹å¿…é¡»é‡Šæ”¾GIL&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ¥çœ‹çœ‹è¿™äº›æ€ä¹ˆå‘ç”Ÿçš„ï¼Ÿ&lt;/p&gt;
&lt;h3 id=&#34;341-å¦‚æœåªæœ‰ä¸€ä¸ªçº¿ç¨‹&#34;&gt;3.4.1 å¦‚æœåªæœ‰ä¸€ä¸ªçº¿ç¨‹&lt;/h3&gt;
&lt;p&gt;é‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å°†ä¼šä¸€ç›´è¿è¡Œã€‚&lt;/p&gt;
&lt;h3 id=&#34;342-å¦‚æœæœ‰ä¸¤ä¸ªçº¿ç¨‹&#34;&gt;3.4.2 å¦‚æœæœ‰ä¸¤ä¸ªçº¿ç¨‹&lt;/h3&gt;
&lt;p&gt;å‡è®¾æœ‰ä¸¤ä¸ªçº¿ç¨‹t1å’Œt2ï¼Œåˆå§‹çŠ¶æ€t1æ‹¿åˆ°çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆt2å°†æ‰§è¡Œcv_wait(gil, TIMEOUT)ï¼Œç­‰å¾…GILè¢«é‡Šæ”¾ï¼Œè¿™æ—¶å€™å°†ä¼šæœ‰ä¸¤ç§æƒ…å†µ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;t1ä¸»åŠ¨é‡Šæ”¾GILï¼ˆsleep/io/ç­‰ï¼‰ï¼Œt1ç»™t2å‘é€signalï¼Œt2å¼€å§‹æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;t2ç­‰t1æ‰§è¡Œå®Œæ—¶é—´ç‰‡ï¼ŒæŠŠå…¨å±€å˜é‡gil_drop_requestç½®ä¸º1ï¼Œç„¶åç»§ç»­æ‰§è¡Œcv_wait&lt;/li&gt;
&lt;li&gt;t1å°†ä¸å†æ‰§è¡Œï¼Œæ”¾å¼ƒGILï¼Œå¹¶ä¸”å‘é€signalé€šçŸ¥è‡ªå·±å·²ç»æ”¾å¼ƒGIL&lt;/li&gt;
&lt;li&gt;t1å°†å¼€å§‹ç­‰å¾…ä¸€ä¸ª&lt;code&gt;gotgil&lt;/code&gt;çš„signalï¼Œè¡¨æ˜GILå·²ç»è¢«å…¶ä»–çº¿ç¨‹è·å–&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ï¼ˆé»˜è®¤çš„TIMEOUTæ—¶é—´æ˜¯5msï¼‰&lt;/p&gt;
&lt;h3 id=&#34;343å½±å“&#34;&gt;3.4.3å½±å“&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ–°çš„GILå°†å…è®¸çº¿ç¨‹åœ¨å¿½ç•¥å…¶ä»–çº¿ç¨‹ä»¥åŠIOä¼˜å…ˆçº§çš„æƒ…å†µä¸‹æ‰§è¡Œ5ms&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªCPUå¯†é›†å‹çº¿ç¨‹å°†é˜»å¡IOçº¿ç¨‹è‡³å°‘5ms&lt;/li&gt;
&lt;li&gt;è¿™å°†ä¼šå½±å“å“åº”æ—¶é—´&lt;/li&gt;
&lt;li&gt;é•¿æ—¶é—´æ‰§è¡Œçš„c/c++æ‰©å±•å°†å½±å“çº¿ç¨‹åˆ‡æ¢ï¼Œçº¿ç¨‹åˆ‡æ¢å°†ä¸å†æ˜¯æŠ¢å å¼çš„&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;å››gilä¸æ˜¯ä»€ä¹ˆ&#34;&gt;å››ã€GILä¸æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ï¼Œå³ä¾¿æœ‰äº†GILï¼Œä½ çš„ä»£ç ä»ç„¶ä¸ä¸€å®šæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä»ç„¶éœ€è¦å…¶ä»–åŒæ­¥åŸè¯­&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;äº”æ€»ç»“&#34;&gt;äº”ã€æ€»ç»“&lt;/h1&gt;
&lt;p&gt;æ¯«æ— ç–‘é—®ï¼ŒPythonåœ¨æ—¶ä¸‹è¿™ä¹ˆæµè¡Œæ˜¯ç¦»ä¸å¼€GILçš„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;GILè®©å•çº¿ç¨‹æ‰§è¡Œçš„æ›´å¿«&lt;/li&gt;
&lt;li&gt;GILè®©IO-boundçš„å¤šçº¿ç¨‹æ‰§è¡Œçš„æ›´å¿«&lt;/li&gt;
&lt;li&gt;GILè®©Cæ‰©å±•å®ç°çš„å¤šçº¿ç¨‹ç¼–ç¨‹æ‰§è¡Œçš„æ›´å¿«ğŸ˜‚&lt;/li&gt;
&lt;li&gt;å®ç°åŠä½¿ç”¨Cæ‰©å±•æ›´åŠ å®¹æ˜“&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;pythoné€‰æ‹©äº†ç²—ç²’åº¦çš„GILäº†ä¿è¯å†…å­˜å®‰å…¨ï¼Œå…¶ä»–è¯­è¨€é€‰æ‹©ç»†ç²’åº¦çš„é”å®ç°çœŸæ­£çš„å¤šçº¿ç¨‹ï¼Œåè¿‡æ¥è¯´ï¼ŒPythonä¹Ÿåˆ©ç”¨GILä¹ŸæŠŠGCæ—¶å€™çš„&lt;code&gt;Stop the world&lt;/code&gt;ï¼Œåˆ†è§£æˆä¸ºäº†ä¸€ä¸ªä¸ªæ›´ç»†ç²’åº¦çš„å†…å­˜å›æ”¶ï¼Œå…¶å®æ¢ä¸ªè§’åº¦æ¥è¯´ï¼Œä¹Ÿå°±æ˜¯æ¢æˆäº†ä¸€ä¸ªä¸ªæ›´ç»†ç²’åº¦çš„&lt;code&gt;Stop the world&lt;/code&gt;å§ã€‚&lt;/p&gt;
&lt;p&gt;å‚è€ƒ:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://realpython.com/python-gil/&#34;&gt;What is the Python Global Interpreter Lock (GIL)?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=KVKufdTphKs&#34;&gt;Python&amp;rsquo;s Infamous GIL by Larry Hastings&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.dabeaz.com/python/GIL.pdf&#34;&gt;Inside the Python GIL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.dabeaz.com/python/NewGIL.pdf&#34;&gt;Inside the New GIL&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    
    <item>
      <title>Pythonæè¿°ç¬¦åè®®æ€»ç»“</title>
      <link>https://ZmN5.github.io/post/python-descriptor/</link>
      <pubDate>Sun, 20 Jan 2019 19:55:58 +0800</pubDate>
      
      <guid>https://ZmN5.github.io/post/python-descriptor/</guid>
      <description>æœ¬æ–‡ä¸»è¦ç¿»è¯‘è‡ªDescriptor HowTo Guide, å¦å¤–åŠ äº†ä¸€ä¸‹è‡ªå·±çš„ç†è§£ã€‚ æè¿°ç¬¦åè®®æ˜¯ä»€ä¹ˆï¼Ÿ å¦‚æœä¸€ä¸ªç±»å®ç°äº†__set__, __get__, __delete__ï¼Œè¿™ä¸‰</description>
    </item>
    
    <item>
      <title>Django ormæ”¹å­—æ®µåé€ æˆæ•°æ®ä¸¢å¤±</title>
      <link>https://ZmN5.github.io/post/django-orm-change-field-name/</link>
      <pubDate>Sat, 10 Nov 2018 21:34:22 +0800</pubDate>
      
      <guid>https://ZmN5.github.io/post/django-orm-change-field-name/</guid>
      <description>&lt;h3 id=&#34;ä¸€-ç°åœº&#34;&gt;ä¸€. ç°åœºï¼š&lt;/h3&gt;
&lt;p&gt;ä»¥ä¸ºæ˜¯ä¿®æ”¹ä¸€ä¸ªå˜é‡åï¼Œä½†åœ¨django ormå†…éƒ¨å¹¶ä¸è¿™ä¹ˆè®¤ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;model:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;err&#34;&gt;æ—§&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;åˆ—&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;å&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;cos_path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;models&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CharField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;verbose_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;å­˜å‚¨è·¯å¾„&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;err&#34;&gt;æ–°&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;åˆ—&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;å&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;storage_path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;models&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CharField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;verbose_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;å­˜å‚¨è·¯å¾„&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;migrations:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;operations&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;migrations&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RemoveField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;model_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;insurancedocument&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;cos_path&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;migrations&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;AddField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;model_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;insurancedocument&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;storage_path&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
       &lt;span class=&#34;n&#34;&gt;field&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;models&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CharField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;verbose_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;å­˜å‚¨è·¯å¾„&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;sql:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;BEGIN&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;-- Remove field cos_path from insurancedocument
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ALTER&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;TABLE&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;apis_insurancedocument&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;DROP&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;COLUMN&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cos_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;-- Add field storage_path to insurancedocument
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ALTER&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;TABLE&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;apis_insurancedocument&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;ADD&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;COLUMN&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;storage_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;COMMIT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ‰€ä»¥åœ¨Django ormé‡Œé¢è®¤ä¸ºè¿™æ˜¯åˆ å»äº†ä¸€ä¸ªå­—æ®µï¼Œç„¶ååˆæ–°å¢äº†ä¸€ä¸ªå­—æ®µï¼Œç„¶åæ•°æ®å°±ä¸¢äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;äºŒ-å…¶ä»–djangoæ”¹åˆ—åæ‰‹æ®µ&#34;&gt;äºŒ. å…¶ä»–djangoæ”¹åˆ—åæ‰‹æ®µ&lt;/h3&gt;
&lt;h4 id=&#34;1-åˆ©ç”¨db_column-æ”¹å&#34;&gt;1. åˆ©ç”¨db_column æ”¹å&lt;/h4&gt;
&lt;p&gt;æ“ä½œå¦‚ä¸‹ï¼Œåˆ©ç”¨db_columnæ¥æ”¹å˜å­—æ®µåçš„ï¼Œç„¶åï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;n&#34;&gt;cos_path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;models&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CharField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;verbose_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;å­˜å‚¨è·¯å¾„&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;storage_path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;models&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CharField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;db_column&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;cos_path&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;verbose_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;å­˜å‚¨è·¯å¾„&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;
&lt;span class=&#34;k&#34;&gt;BEGIN&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;-- Remove field cos_path from insurancedocument
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ALTER&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;TABLE&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;apis_insurancedocument&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;DROP&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;COLUMN&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cos_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;-- Add field storage_path to insurancedocument
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ALTER&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;TABLE&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;apis_insurancedocument&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;ADD&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;COLUMN&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cos_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;COMMIT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;django ormä¼šå…ˆæŠŠcos_pathé‚£ä¸ªå­—æ®µç»™dropæ‰ï¼Œæ•°æ®è¿˜ä¼šä¸¢å¤±ã€‚&lt;/p&gt;
&lt;h4 id=&#34;2-åˆ©ç”¨rename-fieldæ”¹å&#34;&gt;2. åˆ©ç”¨rename fieldæ”¹å&lt;/h4&gt;
&lt;p&gt;(1) åˆ©ç”¨python manage.py makemigrations &amp;ndash;empty apisåˆ›å»ºä¸€ä¸ªæ–°çš„migrationsæ–‡ä»¶, ç¼–è¾‘ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;django.db&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;migrations&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;django.db&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;models&lt;/span&gt;


&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Migration&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;migrations&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Migration&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;dependencies&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;apis&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;sa&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;0006_auto_20180724_1039&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;operations&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;migrations&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;AlterField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;model_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;insurancedocument&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;cos_path&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;field&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;models&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CharField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;max_length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;verbose_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;å­˜å‚¨è·¯å¾„&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;migrations&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RenameField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;model_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;insurancedocument&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;old_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;cos_path&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;new_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;storage_path&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;(2)æ‰§è¡Œçš„sqlè¯­å¥ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;BEGIN&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;-- Alter field cos_path on insurancedocument
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;-- Rename field cos_path on insurancedocument to storage_path
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ALTER&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;TABLE&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;apis_insurancedocument&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CHANGE&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cos_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;storage_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;COMMIT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¿™æ—¶å€™djangoæ‰è®¤ä¸ºæ‰§è¡Œçš„æ˜¯æ”¹åæ“ä½œï¼Œ æŸ¥çœ‹migrateä¹‹åçš„æ•°æ®åº“å‘ç°æ•°æ®æ²¡æœ‰ä¸¢å¤±ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿™ç§æ“ä½œå¯¹mysqlæ¥è¯´è²Œä¼¼éƒ½æ˜¯é‡å»ºä¸€å¼ æ–°è¡¨ï¼Œç„¶åæŠŠæ—§è¡¨å†…å®¹æ’å…¥æ–°è¡¨é‡Œé¢ï¼Œè€—æ—¶é•¿, éœ€è¦åœæœ è€Œä¸”å±é™©ï¼Œ æ‰€ä»¥è¡¥å……æ¯…æ€»è¯´çš„ä¸€ç§æ–¹æ³•ï¼š&lt;/p&gt;
&lt;h4 id=&#34;3-ä¸åœæœæ”¹å&#34;&gt;3 ä¸åœæœæ”¹å&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆåŠ åˆ—ï¼Œæ”¹ä»£ç æ¥è¯»è€åˆ—&amp;amp;&amp;amp;åŒå†™ï¼Œ&lt;/li&gt;
&lt;li&gt;é€šè¿‡ sql æˆ–è€…ä»£ç å¤åˆ¶åŸåˆ—æ•°æ®åˆ°æ–°åˆ—ï¼Œ&lt;/li&gt;
&lt;li&gt;ä»£ç å†åˆ‡æ¢æˆè¯»å†™æ–°åˆ—ï¼Œ&lt;/li&gt;
&lt;li&gt;å†åšæ¸…ç†è€åˆ—çš„äº‹æƒ…&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;4-è¿˜æ˜¯ä¸è¦æ”¹åå­—äº†&#34;&gt;4 è¿˜æ˜¯ä¸è¦æ”¹åå­—äº†&lt;/h4&gt;
&lt;h2 id=&#34;åæ€&#34;&gt;åæ€:&lt;/h2&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨çº¿ä¸Šæ‰§è¡Œè¿™ç§éœ€è¦Schema Operationsçš„äº‹æƒ…ï¼Œç¡®è®¤æ˜¯å¦å¿…è¦&lt;/li&gt;
&lt;li&gt;è¿˜æ˜¯ä¸è¦ç”¨django migrationäº†&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œsqlmigrateï¼Œ ç¡®è®¤django ormåˆ°åº•ä¼šå¹²ä»€ä¹ˆäº‹æƒ…&lt;/li&gt;
&lt;li&gt;æœ¬åœ°å®éªŒï¼Œè¯æ˜æ“ä½œæ— å®³&lt;/li&gt;
&lt;/ol&gt;</description>
    </item>
    
  </channel>
</rss>